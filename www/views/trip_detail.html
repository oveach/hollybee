<md-toolbar>
    <div class="md-toolbar-tools">
        <md-button class="md-icon-button" ui-sref="trips">
            <md-icon>arrow_back</md-icon>
        </md-button>
        <span class="md-title">Trip</span>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="deleteTrip(trip.id)">
            <md-icon>delete</md-icon>
        </md-button>
        <md-button class="md-icon-button" ui-sref="trip_form({idTrip: trip.id})">
            <md-icon>edit</md-icon>
        </md-button>
    </div>
</md-toolbar>

<md-content md-swipe-left="showNextTrip()" md-swipe-right="showPreviousTrip()">

    <md-card>
        <md-card-content>
            <h4>{{ trip.name }}</h4>
            <div layout="row">
                <div>From: {{ trip.startDate | date:'dd/MM/yyyy' }}</div>
                <span flex></span>
                <div>Budget: {{ trip.budget }} €</div>
            </div>
            <div layout="row">
                <div>Until: {{ trip.endDate | date:'dd/MM/yyyy' }}</div>
                <span flex></span>
                <div>Remaining: 120 €</div>
            </div>
        </md-card-content>
    </md-card>

    <md-subheader>Expenses</md-subheader>

    <md-list>
        <md-list-item ng-repeat="expense in expenses" ng-init="totalExpenses = 0">
            <div class="md-list-item-text">
                {{ expense.label }}<br/>
                {{ expense.date | date:'dd/MM HH:mm' }}
            </div>
            <span flex></span>
            <div ng-init="$parent.totalExpenses = $parent.totalExpenses + expense.amount">
                {{ expense.amount | number:2 }} €
            </div>
            <md-divider></md-divider>
        </md-list-item>
        <md-list-item class="footer">
            <div class="md-list-item-text">
                Total
            </div>
            <span flex></span>
            <div>{{ totalExpenses | number:2 }} €</div>
            <md-divider></md-divider>
        </md-list-item>
    </md-list>

    <!-- to prevent FAB button overflowing content -->
    <div style="height: 76px"></div>

    <md-button class="md-fab md-fab-bottom-right fixed">
        <md-icon>create</md-icon>
    </md-button>

</md-content>
